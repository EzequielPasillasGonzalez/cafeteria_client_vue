{"version":3,"file":"js/148.216cf65d.js","mappings":"iRAAAA,EAAAA,EAAAA,IAAAC,EAAAA,GAAA,OACQC,EAAAA,EAAAA,IAASC,IAETD,EAAAA,EAAAA,IAA+BE,EAAA,CAAnBC,MAAKC,EAAAC,aAAW,sB,0CAUpC,GACIC,WAAY,CACRC,QAAQC,EAAAA,EAAAA,KAAqB,IAAM,gCACnCC,WAAWD,EAAAA,EAAAA,KAAqB,IAAM,iCAE1CE,QAAQ,KAEDC,EAAAA,EAAAA,IAAY,aAAc,CACzB,kBAEDA,EAAAA,EAAAA,IAAW,YAAa,CACvB,kBACA,mBAEJ,iBAAMN,CAAYO,GAUd,GARA,IAAIC,IAAJ,CAAS,CAELC,MAAO,mBACPC,mBAAmB,IAGvBF,IAAAA,cAEe,IAAZG,KAAKC,KAAyB,MAAZD,KAAKC,IAU1B,IACI,MAAMC,QAAaF,KAAKG,UAAUP,SAEfI,KAAKI,gBAAgBF,GAExCL,IAAAA,KAAU,4BAA6B,GAAI,WAE3CG,KAAKK,QAAQC,KAAK,CAACC,KAAM,YAE7B,CAAE,MAAMC,SAEEX,IAAAA,KAAU,CACZY,KAAM,QACNX,MAAO,UACPY,KAAO,GAAEF,KAEjB,YAzBUX,IAAAA,KAAU,CACZY,KAAM,QACNX,MAAO,UACPY,KAAO,mCAyBnB,GAEJC,SAAS,KACFC,EAAAA,EAAAA,IAAU,aAAc,CACvBX,IAAK,SAGbY,MAAO,CACHZ,GAAAA,GAEID,KAAKc,gBACT,I,UCxER,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://cafeteria_vue/./src/modules/products/views/shoppingList_View.vue","webpack://cafeteria_vue/./src/modules/products/views/shoppingList_View.vue?b8a1"],"sourcesContent":["<template>\r\n        <NavBar/>\r\n\r\n        <TableShop @pay=\"makeAnOrder\"/>\r\n        \r\n</template>\r\n\r\n<script>\r\nimport { defineAsyncComponent } from 'vue';\r\nimport { mapActions, mapState } from 'vuex';\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nexport default {\r\n    components: {\r\n        NavBar: defineAsyncComponent(() => import('../components/NavBar_Component.vue')),        \r\n        TableShop: defineAsyncComponent(() => import('../components/tableShop_Component.vue')),        \r\n    },\r\n    methods:{\r\n\r\n        ...mapActions ('orderStore', [\r\n            'makeOrder'\r\n        ]),        \r\n        ...mapActions(\"authStore\", [\r\n            'updateOrderUSer',\r\n            'setUserStorage'            \r\n        ]),\r\n        async makeAnOrder(order){            \r\n\r\n            new Swal({\r\n                //? Mostrar alertas\r\n                title: \"Espere por favor\",\r\n                allowOutsideClick: false,\r\n            });\r\n\r\n            Swal.showLoading();\r\n\r\n            if(this.uID == '' || this.uID == null){\r\n                await Swal.fire({\r\n                    icon: \"error\",\r\n                    title: \"Oops...\",\r\n                    text: `Es necesario que inicies sesión`,\r\n                });\r\n\r\n                return\r\n            }\r\n            \r\n            try {                  \r\n                const resp = await this.makeOrder(order)\r\n\r\n                const data = await this.updateOrderUSer(resp)\r\n\r\n                Swal.fire(\"¡Pedido creado con éxito!\", \"\", \"success\");  \r\n                \r\n                this.$router.push({name: 'products'})\r\n                \r\n            } catch(error) {\r\n            \r\n                await Swal.fire({\r\n                    icon: \"error\",\r\n                    title: \"Oops...\",\r\n                    text: `${error}`,\r\n                });\r\n            }            \r\n\r\n\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapState( 'orderStore', {\r\n            uID: 'uID',            \r\n        }),        \r\n    },\r\n    watch: {\r\n        uID(){ \r\n             //? Actualiza el view cuando el usuario pulsa otro producto\r\n            this.setUserStorage()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./shoppingList_View.vue?vue&type=template&id=2d20a11c\"\nimport script from \"./shoppingList_View.vue?vue&type=script&lang=js\"\nexport * from \"./shoppingList_View.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_Fragment","_createVNode","_component_NavBar","_component_TableShop","onPay","$options","makeAnOrder","components","NavBar","defineAsyncComponent","TableShop","methods","mapActions","order","Swal","title","allowOutsideClick","this","uID","resp","makeOrder","updateOrderUSer","$router","push","name","error","icon","text","computed","mapState","watch","setUserStorage","__exports__","render"],"sourceRoot":""}